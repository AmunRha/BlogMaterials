#define CALL_FIRST 1

LONG WINAPI myHandler(
    struct _EXCEPTION_POINTERS* ExceptionInfo
) {
    if (ExceptionInfo->ExceptionRecord->ExceptionCode == STATUS_INTEGER_DIVIDE_BY_ZERO || ExceptionInfo->ExceptionRecord->ExceptionCode == STATUS_FLOAT_DIVIDE_BY_ZERO) {
        printf("Exception triggered:  STATUS_INTEGER_DIVIDE_BY_ZERO\n");
    }
    return EXCEPTION_CONTINUE_EXECUTION;
}

int main()
{
    PVOID h1 = AddVectoredExceptionHandler(CALL_FIRST, myHandler);
    int inp1 = 0, inp2 = 0;
    printf("Enter your first input: ");
    scanf_s("%d", &inp1);
    printf("Enter your second input: ");
    scanf_s("%d", &inp2);
    int result = inp1 / inp2;
    printf("Result: %d", result);
    RemoveVectoredExceptionHandler(h1);
    return 0;
}
